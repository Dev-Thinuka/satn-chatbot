/* SA Thomson Nerys – Chat Widget Theme (Gold) */

/* ===== Palette & base ===== */
:root{
  --satn-gold:    #e7ba3e;
  --satn-gold-50: #e8ce7d;
  --satn-amber:   #9b7317;
  --satn-ink:     #303030;
  --satn-white:   #ffffff;

  --satn-bg:      #f6f7f9;
  --satn-border:  #e7e9ee;
  --satn-muted:   #8a9099;

  --satn-shadow:  0 12px 32px rgba(0,0,0,.16);
  --satn-radius:  16px;

  --font-ui:      ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto,
                  "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
}
*{ box-sizing: border-box }
html, body{ font-family: var(--font-ui); color: var(--satn-ink); }
.hidden{ display: none !important; }

/* ===== Floating button ===== */
.chat-toggle{
  position: fixed;
  right: 18px; bottom: 18px;
  width: 58px; height: 58px;
  border: none; border-radius: 50%;
  background: var(--satn-gold);
  color: var(--satn-ink);
  font-size: 22px; font-weight: 700;
  box-shadow: 0 8px 24px rgba(231,186,62,.45);
  cursor: pointer; z-index: 10001;
}

/* Shared hover/interaction transitions */
.chat-toggle,
.btn,
.file-attach-btn,
.send-btn {
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    background-color 0.18s ease,
    color 0.18s ease,
    border-color 0.18s ease;
}

.chat-toggle:hover,
.btn:hover,
.file-attach-btn:hover,
.send-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(0,0,0,.15);
}

.chat-toggle:active,
.btn:active,
.file-attach-btn:active,
.send-btn:active {
  transform: translateY(0);
  box-shadow: 0 4px 12px rgba(0,0,0,.18);
}

/* ===== Widget ===== */
.chat-widget{
  position: fixed; right: 18px; bottom: 88px;
  width: 400px; max-width: 94vw; height: 640px; max-height: 86vh;
  display: flex; flex-direction: column;
  border-radius: var(--satn-radius);
  background: var(--satn-white);
  box-shadow: var(--satn-shadow);
  overflow: hidden; z-index: 10000;
}

/* ===== Header ===== */
.chat-header{
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 16px;
  background: linear-gradient(135deg, #2e3135, #191b1f);
  color: var(--satn-white);
}
.chat-header-left{
  display:flex; align-items:center; gap:10px;
}
.chat-header-right{
  display:flex; align-items:center; gap:8px;
}

.chat-avatar{
  width:36px; height:36px;
  border-radius:50%; object-fit:cover;
  background:#fff;
}
.chat-header h2{
  margin:0;
  font-size:18px;
  line-height:1.1;
}

/* Online status row with animated dot */
.status-row{
  display:flex;
  align-items:center;
  gap:6px;
  margin-top:3px;
  font-size:12px;
  color:#c9f7d9;
  opacity:0.9;
}
.status-dot{
  width:8px; height:8px;
  border-radius:50%;
  background:#3ddc84;
  box-shadow:0 0 0 0 rgba(61,220,132,.7);
  animation:satn-pulse 1.6s ease-out infinite;
}
.status-text{
  letter-spacing:0.02em;
}
@keyframes satn-pulse{
  0%{
    transform:scale(.9);
    box-shadow:0 0 0 0 rgba(61,220,132,.7);
  }
  70%{
    transform:scale(1);
    box-shadow:0 0 0 8px rgba(61,220,132,0);
  }
  100%{
    transform:scale(.9);
    box-shadow:0 0 0 0 rgba(61,220,132,0);
  }
}

.chat-close{
  border:0;
  background:transparent;
  color:#f2f2f2;
  font-size:20px;
  cursor:pointer;
}

/* ===== Body ===== */
.chat-body{
  flex:1;
  overflow:auto;
  padding:14px;
  background: var(--satn-bg);
  scroll-behavior:smooth;
}

/* Soft scrollbar */
.chat-body::-webkit-scrollbar{
  width:6px;
}
.chat-body::-webkit-scrollbar-track{
  background:transparent;
}
.chat-body::-webkit-scrollbar-thumb{
  background:rgba(0,0,0,.15);
  border-radius:999px;
}
.chat-body:hover::-webkit-scrollbar-thumb{
  background:rgba(0,0,0,.25);
}

/* Message base */
.bot-message,
.user-message{
  position:relative;
  max-width: 86%;
  margin:10px 0;
  padding:12px 14px;
  border-radius: 14px;
  border:1px solid var(--satn-border);
  box-shadow: 0 2px 0 rgba(0,0,0,.02);
  background-clip: padding-box;
}

.bot-message{
  background:#f0f2f5;
}
.user-message{
  margin-left: auto;
  background: linear-gradient(135deg, #f5c95e, #e7ba3e);
  color: var(--satn-ink);
  border-color:#dbae36;
  border-radius: 20px 20px 8px 20px;
  box-shadow: 0 2px 0 rgba(231,186,62,.25);
}

/* WhatsApp-style tails */
.bot-message::after{
  content:"";
  position:absolute;
  left:18px;
  bottom:-4px;
  width:12px;
  height:12px;
  background:#f0f2f5;
  border-radius:0 0 0 16px;
  transform:skewX(-25deg);
  box-shadow:0 2px 0 rgba(0,0,0,.03);
}
.user-message::after{
  content:"";
  position:absolute;
  right:18px;
  bottom:-4px;
  width:12px;
  height:12px;
  background:linear-gradient(135deg, #f5c95e, #e7ba3e);
  border-radius:0 0 16px 0;
  transform:skewX(25deg);
  box-shadow:0 2px 0 rgba(231,186,62,.35);
}

.timestamp{
  display:block;
  margin-top:6px;
  font-size:11px;
  color: var(--satn-muted);
}

/* Message enter animation */
.chat-message{
  animation:satn-msg-in 0.22s ease-out;
  transform-origin: bottom;
}
@keyframes satn-msg-in{
  from{
    opacity:0;
    transform:translateY(4px) scale(.98);
  }
  to{
    opacity:1;
    transform:translateY(0) scale(1);
  }
}

/* Typing indicator */
@keyframes satn-blink{0%,80%,100%{opacity:.2}40%{opacity:1}}
.bot-message .dot{
  display:inline-block;
  width:6px; height:6px;
  margin:0 2px;
  background:#a9b0b8;
  border-radius:50%;
  animation:satn-blink 1.2s infinite;
}
.bot-message .dot:nth-child(2){ animation-delay:.2s }
.bot-message .dot:nth-child(3){ animation-delay:.4s }

/* ===== Property cards ===== */
.property-list{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
  margin:8px 0;
}
.property-card{
  background:#fff;
  border:1px solid var(--satn-border);
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 4px 14px rgba(0,0,0,.06);
}
.property-card img{
  width:100%;
  height:168px;
  object-fit:cover;
  display:block;
}
.property-info{
  padding:10px 12px;
}
.property-info h4{
  margin:0 0 6px;
  font-size:15px;
  color:var(--satn-ink);
}
.property-info p{
  margin:0;
  font-size:12px;
  color:var(--satn-muted);
}
.property-info .price{
  display:block;
  margin-top:8px;
  font-weight:700;
  color:var(--satn-amber);
}
.property-btn{
  margin-top:8px;
  width:100%;
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--satn-border);
  background: var(--satn-gold-50);
  color:var(--satn-ink);
  cursor:pointer;
}

/* ===== Footer ===== */
.chat-footer{
  border-top:1px solid var(--satn-border);
  background:#fff;
}
.quick-replies{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  padding: 8px 12px;
  border-bottom:1px solid var(--satn-border);
}
.btn{
  padding:8px 12px;
  border-radius:20px;
  cursor:pointer;
  font-weight:600;
}
.btn-outline{
  background:#fff;
  color:var(--satn-ink);
  border:1px solid var(--satn-border);
}
.btn-gold{
  background:var(--satn-gold);
  color:var(--satn-ink);
  border:1px solid #dbae36;
}

.chat-input-area{
  display:flex;
  align-items:center;
  gap:8px;
  padding:10px 12px;
}
.file-attach-btn{
  background:#f2f4f7;
  border:1px solid var(--satn-border);
  border-radius:10px;
  padding:10px;
  cursor:pointer;
}
.file-input{ display:none }

/* Input focus effect */
.chat-input{
  flex:1;
  padding:12px 14px;
  border:1px solid var(--satn-border);
  border-radius:12px;
  outline:none;
  transition:
    border-color 0.2s ease,
    box-shadow 0.2s ease,
    background-color 0.2s ease;
}
.chat-input:focus{
  border-color:var(--satn-gold);
  background-color:#fffdf6;
  box-shadow:
    0 0 0 1px rgba(231,186,62,.6),
    0 0 0 4px rgba(231,186,62,.16);
}

.send-btn{
  border:0;
  border-radius:12px;
  background:var(--satn-ink);
  color:#fff;
  width:46px;
  height:42px;
  cursor:pointer;
}

/* ===== Toasts & z-index safety ===== */
.satn-toast-area{
  position:fixed;
  right:14px; bottom:14px;
  display:flex; flex-direction:column;
  gap:8px;
  z-index:11000;
  pointer-events:none;
}
.satn-toast{
  background:var(--satn-ink);
  color:#fff;
  padding:10px 12px;
  border-radius:10px;
  box-shadow:0 8px 24px rgba(0,0,0,.22);
  pointer-events:auto;
}

/* ======================================================
   ADDITIONAL REQUIRED COMPONENTS (Overlay, slide-in, mobile)
====================================================== */

/* ----- Chat overlay (dim background when chat opens) ----- */
.chat-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(3px);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease;
  z-index: 9998;
}
.chat-overlay.overlay-visible {
  opacity: 1;
  pointer-events: auto;
}

/* ----- Chat widget slide-in animation ----- */
.chat-widget {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.28s ease, transform 0.28s ease;
  pointer-events: none;
}
.chat-widget.chat-open {
  opacity: 1;
  transform: translateY(0px);
  pointer-events: auto;
}

/* ----- Lead Popup (static markup styles – currently unused by JS) ----- */
.lead-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(4px);
  z-index: 99995;
}
.lead-overlay.hidden {
  display: none !important;
}

.lead-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 340px;
  background: #ffffff;
  padding: 22px;
  border-radius: 14px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.35);
  transform: translate(-50%, -50%) scale(0.85);
  opacity: 0;
  transition: 0.25s ease;
  z-index: 99996;
}
.lead-modal.show {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}
.lead-modal.hidden {
  display: none !important;
}

.lead-modal input {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--satn-border);
  border-radius: 10px;
  margin-bottom: 10px;
  font-size: 14px;
  outline: none;
}

.lead-btn {
  width: 100%;
  padding: 12px;
  background: var(--satn-ink);
  color: #ffffff;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  font-size: 15px;
  font-weight: 600;
}

/* ----- Mobile responsiveness ----- */
@media (max-width: 600px) {
  .chat-widget {
    right: 10px;
    left: 10px;
    bottom: 10px;
    width: auto;
    height: 82vh;
  }

  .chat-toggle {
    right: 14px;
    bottom: 14px;
  }

  .quick-replies {
    gap: 6px;
    padding: 6px 10px;
  }

  .chat-input-area {
    padding: 8px 10px;
    gap: 6px;
  }
}
